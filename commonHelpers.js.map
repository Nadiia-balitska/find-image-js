{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/img/error.svg","../src/main.js"],"sourcesContent":["export function createMarkup(arr) {\n  return arr\n    .map((image) => {\n      return `\n    <li class=\"gallery-item\">\n        <a href=\"${image.urls.largeImageURL}\">\n            <img src=\"${image.urls.webformatURL}\" \n            alt=\"${image.tags}\"  title=\"\"/>\n        </a>\n    </li>`;\n    })\n    .join(\"\");\n}\n\n            // likes=\"${image.likes}\" \n            // views =\"${image.views}\" \n            // comments=\"${image.comments}\" \n            // downloads=\"${image.downloads}\" ","export function getPhotos(q) {\n    const ENDPOINT = \"/api\";\n    const BASE_URL = \"https://pixabay.com\";\n    const API_KEY = \"44004812-c52c8438ab8e6871c63eadf8f\";\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    });\n\n    return fetch(`${BASE_URL}${ENDPOINT}?${params}`).then((res) => {\n        if (!res.ok) {\n            throw new Error(res.status);\n        }\n        return res.json();\n    });\n}","export default \"__VITE_ASSET__8479b7dd__\"","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { createMarkup } from \"./js/render-functions.js\";\nimport { getPhotos } from \"./js/pixabay-api\";\nimport errorSvg from \"./img/error.svg\"\n\nconst formEl = document.querySelector(\".js-form\");\nconst listEl = document.querySelector(\".js-gallery\");\nconst target = document.querySelector(\".js-backdrop\");\n\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n    e.preventDefault();\n    listEl.innerHTML = \"\";\n\n    showSpinner();\n    const searchQuery = e.currentTarget.elements['search-query'].value.trim();\n\n    getPhotos(searchQuery)\n        .then((res) => {\n            if (res.results.length === 0) {\n                return iziToast.error({\n                    title: 'Error',\n                    titleColor: '#fff',\n                    messageColor: '#fff',\n                    iconUrl: errorSvg,\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    backgroundColor: 'red',\n                    position: 'topLeft'\n                });\n            }\n\nlistEl.innerHTML = createMarkup(res.results);\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n   captions: true,\n    captionsData: 'alt', \n    captionDelay: 250  \n});\n  listEl.refresh();\n\n\n        })\n        .catch(console.log)\n        .finally(() => {\n            stopSpinner();\n            e.target.reset();\n        });\n}\n\n\n//!================================================================\nconst opts = {\n  position: \"absolute\", // Element positioning\n  lines: 13, // The number of lines to draw\n  length: 44, // The length of each line\n  width: 19, // The line thickness\n  radius: 46, // The radius of the inner circle\n  scale: 1.25, // Scales overall size of the spinner\n  corners: 1, // Corner roundness (0..1)\n  speed: 1, // Rounds per second\n  rotate: 0, // The rotation offset\n  animation: \"spinner-line-fade-quick\", // The CSS animation name for the lines\n  direction: 1, // 1: clockwise, -1: counterclockwise\n  color: \"#2bab81\", // CSS color or array of colors\n  fadeColor: \"transparent\", // CSS color or array of colors\n  top: \"50%\", // Top position relative to parent\n  left: \"50%\", // Left position relative to parent\n  shadow: \"0 0 1px transparent\", // Box-shadow for the lines\n  zIndex: 2000000000, // The z-index (defaults to 2e9)\n  className: \"spinner\", // The CSS class to assign to the spinner\n};\nconst spinner = new Spinner(opts);\n\nfunction showSpinner() {\n  spinner.spin(target);\n  target.classList.remove(\"is-hidden\");\n}\n\nfunction stopSpinner() {\n  spinner.stop();\n  target.classList.add(\"is-hidden\");\n}\n//!================================================================\n"],"names":["createMarkup","arr","image","getPhotos","q","ENDPOINT","BASE_URL","API_KEY","params","res","errorSvg","formEl","listEl","target","onSubmit","e","showSpinner","searchQuery","iziToast","SimpleLightbox","stopSpinner","opts","spinner"],"mappings":"6vBAAO,SAASA,EAAaC,EAAK,CAChC,OAAOA,EACJ,IAAKC,GACG;AAAA;AAAA,mBAEMA,EAAM,KAAK,aAAa;AAAA,wBACnBA,EAAM,KAAK,YAAY;AAAA,mBAC5BA,EAAM,IAAI;AAAA;AAAA,UAGxB,EACA,KAAK,EAAE,CACZ,CCZO,SAASC,EAAUC,EAAG,CACzB,MAAMC,EAAW,OACXC,EAAW,sBACXC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAAH,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGE,CAAQ,GAAGD,CAAQ,IAAIG,CAAM,EAAE,EAAE,KAAMC,GAAQ,CAC3D,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACnB,CAAK,CACL,CClBA,MAAeC,EAAA,2CCQTC,EAAS,SAAS,cAAc,UAAU,EAC1CC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAS,SAAS,cAAc,cAAc,EAGpDF,EAAO,iBAAiB,SAAUG,CAAQ,EAE1C,SAASA,EAASC,EAAG,CACjBA,EAAE,eAAc,EAChBH,EAAO,UAAY,GAEnBI,IACA,MAAMC,EAAcF,EAAE,cAAc,SAAS,cAAc,EAAE,MAAM,OAEnEZ,EAAUc,CAAW,EAChB,KAAMR,GAAQ,CACX,GAAIA,EAAI,QAAQ,SAAW,EACvB,OAAOS,EAAS,MAAM,CAClB,MAAO,QACP,WAAY,OACZ,aAAc,OACd,QAASR,EACT,QAAS,2EACT,gBAAiB,MACjB,SAAU,SAC9B,CAAiB,EAGjBE,EAAO,UAAYZ,EAAaS,EAAI,OAAO,EAE1B,IAAIU,EAAe,aAAc,CAC/C,SAAU,GACT,aAAc,MACd,aAAc,GAClB,CAAC,EACCP,EAAO,QAAO,CAGhB,CAAS,EACA,MAAM,QAAQ,GAAG,EACjB,QAAQ,IAAM,CACXQ,IACAL,EAAE,OAAO,OACrB,CAAS,CACT,CAGA;AACA,MAAMM,EAAO,CACX,SAAU,WACV,MAAO,GACP,OAAQ,GACR,MAAO,GACP,OAAQ,GACR,MAAO,KACP,QAAS,EACT,MAAO,EACP,OAAQ,EACR,UAAW,0BACX,UAAW,EACX,MAAO,UACP,UAAW,cACX,IAAK,MACL,KAAM,MACN,OAAQ,sBACR,OAAQ,IACR,UAAW,SACb,EACMC,EAAU,IAAI,QAAQD,CAAI,EAEhC,SAASL,GAAc,CACrBM,EAAQ,KAAKT,CAAM,EACnBA,EAAO,UAAU,OAAO,WAAW,CACrC,CAEA,SAASO,GAAc,CACrBE,EAAQ,KAAI,EACZT,EAAO,UAAU,IAAI,WAAW,CAClC,CACA;"}