{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formEl = document.querySelector('.feedback-form');\nconst SAVE_KEY = \"feedback-form-state\";\nconst formData = { email: \"\", message: \"\" };\n\n//!==================================================================\n\nformEl.addEventListener('input', e => {\n    const value = e.target.value.trim();\n    console.log(value);\n    formData[e.target.name] = value;\n    saveInStorage(SAVE_KEY, formData);\n\n\n});\n\n\nformEl.addEventListener('submit', e => {\n    e.preventDefault();\n    const email = e.currentTarget.elements.email.value.trim();\n    const message = e.currentTarget.elements.message.value.trim();\n\n    if (!email|| !message) {\n        return alert('email or message is empty');\n    }\n        \n        formData[e.target.name] = '';\n        formEl.reset();\n})\n\n//!==================================================================\nfunction saveInStorage(key, value) {\n    try {\n        const json = JSON.stringify(value);\n        localStorage.setItem(key, json);\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n\nfunction loadFromStorage(key) {\n    const data = localStorage.getItem(key);\n    try {\n        const result = JSON.parse(data);\n        return result;\n    } catch (error) {\n        return data;\n    }\n}\n//!==================================================================\nfunction init() {\n    const data = loadFromStorage(SAVE_KEY) || {};\n    formEl.elements.email.value = data.email || '';\n    formEl.elements.message.value = data.message || '';\n\n}\ninit()\n\n//!==================================================================\n\n\n\n\n\n\n\n\n"],"names":["formEl","SAVE_KEY","formData","value","saveInStorage","email","message","key","json","error","loadFromStorage","data","init"],"mappings":"wFAAA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAW,sBACXC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEzC;AAEAF,EAAO,iBAAiB,QAAS,GAAK,CAClC,MAAMG,EAAQ,EAAE,OAAO,MAAM,KAAI,EACjC,QAAQ,IAAIA,CAAK,EACjBD,EAAS,EAAE,OAAO,IAAI,EAAIC,EAC1BC,EAAcH,EAAUC,CAAQ,CAGpC,CAAC,EAGDF,EAAO,iBAAiB,SAAU,GAAK,CACnC,EAAE,eAAc,EAChB,MAAMK,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OAEvD,GAAI,CAACD,GAAQ,CAACC,EACV,OAAO,MAAM,2BAA2B,EAGxCJ,EAAS,EAAE,OAAO,IAAI,EAAI,GAC1BF,EAAO,MAAK,CACpB,CAAC,EAED;AACA,SAASI,EAAcG,EAAKJ,EAAO,CAC/B,GAAI,CACA,MAAMK,EAAO,KAAK,UAAUL,CAAK,EACjC,aAAa,QAAQI,EAAKC,CAAI,CACjC,OAAQC,EAAO,CACZ,QAAQ,IAAIA,EAAM,OAAO,CAC5B,CACL,CAEA,SAASC,EAAgBH,EAAK,CAC1B,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CAEA,OADe,KAAK,MAAMI,CAAI,CAEjC,MAAe,CACZ,OAAOA,CACV,CACL,CACA;AACA,SAASC,GAAO,CACZ,MAAMD,EAAOD,EAAgBT,CAAQ,GAAK,CAAA,EAC1CD,EAAO,SAAS,MAAM,MAAQW,EAAK,OAAS,GAC5CX,EAAO,SAAS,QAAQ,MAAQW,EAAK,SAAW,EAEpD,CACAC,EAAM,EAEN;"}